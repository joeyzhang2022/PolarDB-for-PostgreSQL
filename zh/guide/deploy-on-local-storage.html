<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.36">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/PolarDB-for-PostgreSQL/favicon.ico"><title>å®ä¾‹éƒ¨ç½²ï¼šåŸºäºå•æœºæœ¬åœ°å­˜å‚¨ | PolarDB for PostgreSQL</title><meta name="description" content="é˜¿é‡Œäº‘è‡ªä¸»ç ”å‘çš„äº‘åŸç”Ÿæ•°æ®åº“äº§å“">
    <link rel="modulepreload" href="/PolarDB-for-PostgreSQL/assets/app.9be17b95.js"><link rel="modulepreload" href="/PolarDB-for-PostgreSQL/assets/deploy-on-local-storage.html.47c6a186.js"><link rel="modulepreload" href="/PolarDB-for-PostgreSQL/assets/deploy-on-local-storage.html.c5332d5a.js"><link rel="modulepreload" href="/PolarDB-for-PostgreSQL/assets/plugin-vue_export-helper.21dcd24c.js">
    <link rel="stylesheet" href="/PolarDB-for-PostgreSQL/assets/style.f746e56a.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/PolarDB-for-PostgreSQL/zh/" class=""><img class="logo" src="/PolarDB-for-PostgreSQL/images/polardb.png" alt="PolarDB for PostgreSQL"><span class="site-name can-hide">PolarDB for PostgreSQL</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/PolarDB-for-PostgreSQL/zh/guide/" class="router-link-active" aria-label="å¿«é€Ÿä¸Šæ‰‹"><!--[--><!--]--> å¿«é€Ÿä¸Šæ‰‹ <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="æ¶æ„è§£è¯»"><span class="title">æ¶æ„è§£è¯»</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="æ¶æ„è§£è¯»"><span class="title">æ¶æ„è§£è¯»</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/PolarDB-for-PostgreSQL/zh/architecture/" class="" aria-label="æ¶æ„è¯¦è§£"><!--[--><!--]--> æ¶æ„è¯¦è§£ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/PolarDB-for-PostgreSQL/zh/architecture/buffer-management.html" class="" aria-label="ç¼“å†²åŒºç®¡ç†"><!--[--><!--]--> ç¼“å†²åŒºç®¡ç† <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/PolarDB-for-PostgreSQL/zh/architecture/ddl-synchronization.html" class="" aria-label="DDL åŒæ­¥"><!--[--><!--]--> DDL åŒæ­¥ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/PolarDB-for-PostgreSQL/zh/architecture/logindex.html" class="" aria-label="LogIndex"><!--[--><!--]--> LogIndex <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><a href="/PolarDB-for-PostgreSQL/zh/roadmap/" class="" aria-label="ç‰ˆæœ¬è§„åˆ’"><!--[--><!--]--> ç‰ˆæœ¬è§„åˆ’ <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="å‚ä¸ç¤¾åŒº"><span class="title">å‚ä¸ç¤¾åŒº</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="å‚ä¸ç¤¾åŒº"><span class="title">å‚ä¸ç¤¾åŒº</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/PolarDB-for-PostgreSQL/zh/contributing/contributing-polardb-kernel.html" class="" aria-label="è´¡çŒ®ä»£ç "><!--[--><!--]--> è´¡çŒ®ä»£ç  <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/PolarDB-for-PostgreSQL/zh/contributing/contributing-polardb-docs.html" class="" aria-label="è´¡çŒ®æ–‡æ¡£"><!--[--><!--]--> è´¡çŒ®æ–‡æ¡£ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/PolarDB-for-PostgreSQL/zh/contributing/coding-style.html" class="" aria-label="ç¼–ç é£æ ¼"><!--[--><!--]--> ç¼–ç é£æ ¼ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/PolarDB-for-PostgreSQL/zh/contributing/code-of-conduct.html" class="" aria-label="è¡Œä¸ºå‡†åˆ™"><!--[--><!--]--> è¡Œä¸ºå‡†åˆ™ <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="é€‰æ‹©è¯­è¨€"><span class="title">é€‰æ‹©è¯­è¨€</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="é€‰æ‹©è¯­è¨€"><span class="title">é€‰æ‹©è¯­è¨€</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/PolarDB-for-PostgreSQL/guide/deploy-on-local-storage.html" class="" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/PolarDB-for-PostgreSQL/zh/guide/deploy-on-local-storage.html" class="router-link-active router-link-exact-active router-link-active" aria-label="ç®€ä½“ä¸­æ–‡"><!--[--><!--]--> ç®€ä½“ä¸­æ–‡ <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/ApsaraDB/PolarDB-for-PostgreSQL" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><!----><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/PolarDB-for-PostgreSQL/zh/guide/" class="router-link-active" aria-label="å¿«é€Ÿä¸Šæ‰‹"><!--[--><!--]--> å¿«é€Ÿä¸Šæ‰‹ <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="æ¶æ„è§£è¯»"><span class="title">æ¶æ„è§£è¯»</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="æ¶æ„è§£è¯»"><span class="title">æ¶æ„è§£è¯»</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/PolarDB-for-PostgreSQL/zh/architecture/" class="" aria-label="æ¶æ„è¯¦è§£"><!--[--><!--]--> æ¶æ„è¯¦è§£ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/PolarDB-for-PostgreSQL/zh/architecture/buffer-management.html" class="" aria-label="ç¼“å†²åŒºç®¡ç†"><!--[--><!--]--> ç¼“å†²åŒºç®¡ç† <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/PolarDB-for-PostgreSQL/zh/architecture/ddl-synchronization.html" class="" aria-label="DDL åŒæ­¥"><!--[--><!--]--> DDL åŒæ­¥ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/PolarDB-for-PostgreSQL/zh/architecture/logindex.html" class="" aria-label="LogIndex"><!--[--><!--]--> LogIndex <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><a href="/PolarDB-for-PostgreSQL/zh/roadmap/" class="" aria-label="ç‰ˆæœ¬è§„åˆ’"><!--[--><!--]--> ç‰ˆæœ¬è§„åˆ’ <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="å‚ä¸ç¤¾åŒº"><span class="title">å‚ä¸ç¤¾åŒº</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="å‚ä¸ç¤¾åŒº"><span class="title">å‚ä¸ç¤¾åŒº</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/PolarDB-for-PostgreSQL/zh/contributing/contributing-polardb-kernel.html" class="" aria-label="è´¡çŒ®ä»£ç "><!--[--><!--]--> è´¡çŒ®ä»£ç  <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/PolarDB-for-PostgreSQL/zh/contributing/contributing-polardb-docs.html" class="" aria-label="è´¡çŒ®æ–‡æ¡£"><!--[--><!--]--> è´¡çŒ®æ–‡æ¡£ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/PolarDB-for-PostgreSQL/zh/contributing/coding-style.html" class="" aria-label="ç¼–ç é£æ ¼"><!--[--><!--]--> ç¼–ç é£æ ¼ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/PolarDB-for-PostgreSQL/zh/contributing/code-of-conduct.html" class="" aria-label="è¡Œä¸ºå‡†åˆ™"><!--[--><!--]--> è¡Œä¸ºå‡†åˆ™ <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="é€‰æ‹©è¯­è¨€"><span class="title">é€‰æ‹©è¯­è¨€</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="é€‰æ‹©è¯­è¨€"><span class="title">é€‰æ‹©è¯­è¨€</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/PolarDB-for-PostgreSQL/guide/deploy-on-local-storage.html" class="" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/PolarDB-for-PostgreSQL/zh/guide/deploy-on-local-storage.html" class="router-link-active router-link-exact-active router-link-active" aria-label="ç®€ä½“ä¸­æ–‡"><!--[--><!--]--> ç®€ä½“ä¸­æ–‡ <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/ApsaraDB/PolarDB-for-PostgreSQL" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active">å¿«é€Ÿä¸Šæ‰‹ <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/PolarDB-for-PostgreSQL/zh/guide/" class="router-link-active sidebar-item" aria-label="ä»‹ç»"><!--[--><!--]--> ä»‹ç» <!--[--><!--]--></a><!----></li><li><a href="/PolarDB-for-PostgreSQL/zh/guide/deploy-on-cloud.html" class="sidebar-item" aria-label="å®ä¾‹éƒ¨ç½²ï¼šåŸºäºé˜¿é‡Œå·´å·´äº‘æœåŠ¡"><!--[--><!--]--> å®ä¾‹éƒ¨ç½²ï¼šåŸºäºé˜¿é‡Œå·´å·´äº‘æœåŠ¡ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/PolarDB-for-PostgreSQL/zh/guide/deploy-on-local-storage.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="å®ä¾‹éƒ¨ç½²ï¼šåŸºäºå•æœºæœ¬åœ°å­˜å‚¨"><!--[--><!--]--> å®ä¾‹éƒ¨ç½²ï¼šåŸºäºå•æœºæœ¬åœ°å­˜å‚¨ <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/PolarDB-for-PostgreSQL/zh/guide/deploy-on-local-storage.html#å®‰è£…-docker" class="router-link-active router-link-exact-active sidebar-item" aria-label="å®‰è£… Docker"><!--[--><!--]--> å®‰è£… Docker <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/PolarDB-for-PostgreSQL/zh/guide/deploy-on-local-storage.html#ç¼–è¯‘ç¯å¢ƒå‡†å¤‡" class="router-link-active router-link-exact-active sidebar-item" aria-label="ç¼–è¯‘ç¯å¢ƒå‡†å¤‡"><!--[--><!--]--> ç¼–è¯‘ç¯å¢ƒå‡†å¤‡ <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/PolarDB-for-PostgreSQL/zh/guide/deploy-on-local-storage.html#åŸºäº-polardb-docker-å¼€å‘é•œåƒ" class="router-link-active router-link-exact-active sidebar-item" aria-label="åŸºäº PolarDB Docker å¼€å‘é•œåƒ"><!--[--><!--]--> åŸºäº PolarDB Docker å¼€å‘é•œåƒ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/PolarDB-for-PostgreSQL/zh/guide/deploy-on-local-storage.html#åŸºäº-centos-7-ç³»ç»Ÿæˆ–å®¹å™¨" class="router-link-active router-link-exact-active sidebar-item" aria-label="åŸºäº CentOS 7 ç³»ç»Ÿæˆ–å®¹å™¨"><!--[--><!--]--> åŸºäº CentOS 7 ç³»ç»Ÿæˆ–å®¹å™¨ <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/PolarDB-for-PostgreSQL/zh/guide/deploy-on-local-storage.html#ç¼–è¯‘å®ä¾‹ç±»å‹" class="router-link-active router-link-exact-active sidebar-item" aria-label="ç¼–è¯‘å®ä¾‹ç±»å‹"><!--[--><!--]--> ç¼–è¯‘å®ä¾‹ç±»å‹ <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/PolarDB-for-PostgreSQL/zh/guide/deploy-on-local-storage.html#æœ¬åœ°å•èŠ‚ç‚¹å®ä¾‹" class="router-link-active router-link-exact-active sidebar-item" aria-label="æœ¬åœ°å•èŠ‚ç‚¹å®ä¾‹"><!--[--><!--]--> æœ¬åœ°å•èŠ‚ç‚¹å®ä¾‹ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/PolarDB-for-PostgreSQL/zh/guide/deploy-on-local-storage.html#æœ¬åœ°å¤šèŠ‚ç‚¹å®ä¾‹" class="router-link-active router-link-exact-active sidebar-item" aria-label="æœ¬åœ°å¤šèŠ‚ç‚¹å®ä¾‹"><!--[--><!--]--> æœ¬åœ°å¤šèŠ‚ç‚¹å®ä¾‹ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/PolarDB-for-PostgreSQL/zh/guide/deploy-on-local-storage.html#æœ¬åœ°å¤šèŠ‚ç‚¹å¸¦å¤‡åº“å®ä¾‹" class="router-link-active router-link-exact-active sidebar-item" aria-label="æœ¬åœ°å¤šèŠ‚ç‚¹å¸¦å¤‡åº“å®ä¾‹"><!--[--><!--]--> æœ¬åœ°å¤šèŠ‚ç‚¹å¸¦å¤‡åº“å®ä¾‹ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/PolarDB-for-PostgreSQL/zh/guide/deploy-on-local-storage.html#æœ¬åœ°å¤šèŠ‚ç‚¹-htap-å®ä¾‹" class="router-link-active router-link-exact-active sidebar-item" aria-label="æœ¬åœ°å¤šèŠ‚ç‚¹ HTAP å®ä¾‹"><!--[--><!--]--> æœ¬åœ°å¤šèŠ‚ç‚¹ HTAP å®ä¾‹ <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/PolarDB-for-PostgreSQL/zh/guide/deploy-on-local-storage.html#å®ä¾‹å›å½’æµ‹è¯•" class="router-link-active router-link-exact-active sidebar-item" aria-label="å®ä¾‹å›å½’æµ‹è¯•"><!--[--><!--]--> å®ä¾‹å›å½’æµ‹è¯• <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a href="/PolarDB-for-PostgreSQL/zh/guide/deploy-on-nbd-shared-storage.html" class="sidebar-item" aria-label="å®ä¾‹éƒ¨ç½²ï¼šåŸºäº NBD å…±äº«å­˜å‚¨"><!--[--><!--]--> å®ä¾‹éƒ¨ç½²ï¼šåŸºäº NBD å…±äº«å­˜å‚¨ <!--[--><!--]--></a><!----></li><li><a href="/PolarDB-for-PostgreSQL/zh/guide/deploy-on-ceph-shared-storage.html" class="sidebar-item" aria-label="å®ä¾‹éƒ¨ç½²ï¼šåŸºäº Ceph å…±äº«å­˜å‚¨"><!--[--><!--]--> å®ä¾‹éƒ¨ç½²ï¼šåŸºäº Ceph å…±äº«å­˜å‚¨ <!--[--><!--]--></a><!----></li><li><a href="/PolarDB-for-PostgreSQL/zh/guide/deploy-on-polardb-stack.html" class="sidebar-item" aria-label="å®ä¾‹éƒ¨ç½²ï¼šåŸºäº PolarDB Stack å…±äº«å­˜å‚¨"><!--[--><!--]--> å®ä¾‹éƒ¨ç½²ï¼šåŸºäº PolarDB Stack å…±äº«å­˜å‚¨ <!--[--><!--]--></a><!----></li><li><a href="/PolarDB-for-PostgreSQL/zh/guide/tpch-on-px.html" class="sidebar-item" aria-label="ç‰¹æ€§å®è·µï¼šåˆ©ç”¨ PolarDB HTAP åŠ é€Ÿ TPC-H"><!--[--><!--]--> ç‰¹æ€§å®è·µï¼šåˆ©ç”¨ PolarDB HTAP åŠ é€Ÿ TPC-H <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="å®ä¾‹éƒ¨ç½²-åŸºäºå•æœºæœ¬åœ°å­˜å‚¨" tabindex="-1"><a class="header-anchor" href="#å®ä¾‹éƒ¨ç½²-åŸºäºå•æœºæœ¬åœ°å­˜å‚¨" aria-hidden="true">#</a> å®ä¾‹éƒ¨ç½²ï¼šåŸºäºå•æœºæœ¬åœ°å­˜å‚¨</h1><p>ä»¥ä¸‹æ˜¯åŸºäºå•æœºæœ¬åœ°å­˜å‚¨ç¼–è¯‘ PolarDB æºç å¹¶å¯åŠ¨ä¸€å†™å¤šè¯»å®ä¾‹çš„æ­¥éª¤ã€‚</p><p>æˆ‘ä»¬æ¨èåœ¨ Docker ä¸­ç¼–è¯‘æºç å¹¶è¿è¡Œç¤ºä¾‹ï¼Œä»è€Œå°½å¯èƒ½å‡å°‘é…ç½®ç¯å¢ƒçš„æ“ä½œã€‚æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªåŸºäº <a href="https://hub.docker.com/_/centos" target="_blank" rel="noopener noreferrer">CentOS 7 å®˜æ–¹ Docker é•œåƒ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> <code>centos:centos7</code> æ„å»ºå‡ºçš„ <a href="https://hub.docker.com/r/polardb/polardb_pg_devel/tags" target="_blank" rel="noopener noreferrer">PolarDB å¼€å‘é•œåƒ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ï¼Œé‡Œé¢åŒ…å«äº†ç¼–è¯‘è¿è¡Œ PolarDB éœ€è¦çš„æ‰€æœ‰ä¾èµ–ã€‚æ‚¨å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™ä¸ªé•œåƒè¿›è¡Œå®ä¾‹æ­å»ºï¼Œä¹Ÿå¯ä»¥è‡ªè¡Œä¿®æ”¹æˆ‘ä»¬åœ¨ä¸‹é¢æä¾›çš„ Dockerfile ä»¥æ»¡è¶³æ‚¨çš„å®šåˆ¶éœ€æ±‚ã€‚</p><p>å½“ç„¶ï¼Œä¸ä½¿ç”¨ Docker ä¹Ÿå®Œå…¨æ²¡æœ‰é—®é¢˜ã€‚æˆ‘ä»¬æä¾›äº†åŸºäºçº¯å‡€ CentOS 7 æ“ä½œç³»ç»Ÿçš„ä¾èµ–å®‰è£…è„šæœ¬ï¼ŒåŠ©æ‚¨å¿«é€Ÿå®Œæˆç¯å¢ƒå‡†å¤‡ã€‚ğŸ‰</p><h2 id="å®‰è£…-docker" tabindex="-1"><a class="header-anchor" href="#å®‰è£…-docker" aria-hidden="true">#</a> å®‰è£… Docker</h2><div class="custom-container tip"><p class="custom-container-title">æç¤º</p><p>å¦‚æœä¸ä½¿ç”¨ Dockerï¼Œå¯è·³è¿‡æœ¬å°èŠ‚ã€‚</p></div><p>è¯·å‚é˜… <a href="https://docs.docker.com/engine/install/" target="_blank" rel="noopener noreferrer">Docker å®˜æ–¹æ–‡æ¡£<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> å®Œæˆä¸åŒå¹³å°ä¸Š Docker çš„å®‰è£…ã€‚</p><ul><li>Ubuntuï¼š<a href="https://docs.docker.com/engine/install/ubuntu/" target="_blank" rel="noopener noreferrer">åœ¨ Ubuntu ä¸Šå®‰è£… Docker Engine<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>Debianï¼š<a href="https://docs.docker.com/engine/install/debian/" target="_blank" rel="noopener noreferrer">åœ¨ Debian ä¸Šå®‰è£… Docker Engine<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>CentOSï¼š<a href="https://docs.docker.com/engine/install/centos/" target="_blank" rel="noopener noreferrer">åœ¨ CentOS ä¸Šå®‰è£… Docker Engine<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>RHELï¼š<a href="https://docs.docker.com/engine/install/rhel/" target="_blank" rel="noopener noreferrer">åœ¨ RHEL ä¸Šå®‰è£… Docker Engine<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>Fedoraï¼š<a href="https://docs.docker.com/engine/install/fedora/" target="_blank" rel="noopener noreferrer">åœ¨ Fedora ä¸Šå®‰è£… Docker Engine<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>macOSï¼ˆæ”¯æŒ M1 èŠ¯ç‰‡ï¼‰ï¼š<a href="https://docs.docker.com/desktop/mac/install/" target="_blank" rel="noopener noreferrer">åœ¨ Mac ä¸Šå®‰è£… Docker Desktop<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ï¼Œå¹¶å»ºè®®å°†å†…å­˜è°ƒæ•´ä¸º 4GB</li></ul><h2 id="ç¼–è¯‘ç¯å¢ƒå‡†å¤‡" tabindex="-1"><a class="header-anchor" href="#ç¼–è¯‘ç¯å¢ƒå‡†å¤‡" aria-hidden="true">#</a> ç¼–è¯‘ç¯å¢ƒå‡†å¤‡</h2><p>ä»¥ä¸‹ä¸¤ç§æ–¹å¼ä»»é€‰ä¸€ç§å³å¯ï¼š</p><ul><li><a aria-current="page" href="/PolarDB-for-PostgreSQL/zh/guide/deploy-on-local-storage.html#%E5%9F%BA%E4%BA%8E-polardb-docker-%E5%BC%80%E5%8F%91%E9%95%9C%E5%83%8F" class="router-link-active router-link-exact-active">åŸºäº PolarDB Docker å¼€å‘é•œåƒ</a>ï¼šæ— éœ€æ‰‹åŠ¨é…ç½®ç¯å¢ƒï¼Œè¾ƒä¸ºç®€å•</li><li><a aria-current="page" href="/PolarDB-for-PostgreSQL/zh/guide/deploy-on-local-storage.html#%E5%9F%BA%E4%BA%8E-centos-7-%E7%B3%BB%E7%BB%9F%E6%88%96%E5%AE%B9%E5%99%A8" class="router-link-active router-link-exact-active">åŸºäº CentOS 7 ç³»ç»Ÿæˆ–å®¹å™¨</a>ï¼šé€‚åˆå¯¹å¼€å‘ç¯å¢ƒåšæ›´å¤šå®šåˆ¶</li></ul><h3 id="åŸºäº-polardb-docker-å¼€å‘é•œåƒ" tabindex="-1"><a class="header-anchor" href="#åŸºäº-polardb-docker-å¼€å‘é•œåƒ" aria-hidden="true">#</a> åŸºäº PolarDB Docker å¼€å‘é•œåƒ</h3><p>è¯¥æ–¹å¼ä½¿æ‚¨å¯ä»¥åœ¨ Docker å®¹å™¨ä¸­ç¼–è¯‘å¹¶éƒ¨ç½²ç¤ºä¾‹ã€‚</p><h4 id="docker-é•œåƒå‡†å¤‡" tabindex="-1"><a class="header-anchor" href="#docker-é•œåƒå‡†å¤‡" aria-hidden="true">#</a> Docker é•œåƒå‡†å¤‡</h4><p>æˆ‘ä»¬åœ¨ DockerHub ä¸Šæä¾›äº†æ„å»ºå®Œæ¯•çš„é•œåƒ <a href="https://hub.docker.com/r/polardb/polardb_pg_devel/tags" target="_blank" rel="noopener noreferrer"><code>polardb/polardb_pg_devel:centos7</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> å¯ä¾›ç›´æ¥ä½¿ç”¨ï¼ˆæ”¯æŒ x86_64 å’Œ ARM æ¶æ„ï¼‰ğŸ˜ã€‚</p><p>å¦å¤–ï¼Œæˆ‘ä»¬ä¹Ÿæä¾›äº†æ„å»ºä¸Šè¿°å¼€å‘é•œåƒçš„ Dockerfileï¼Œä» CentOS 7 å®˜æ–¹é•œåƒ <code>centos:centos7</code> å¼€å§‹æ„å»ºå‡ºä¸€ä¸ªå®‰è£…å®Œæ‰€æœ‰å¼€å‘å’Œè¿è¡Œæ—¶ä¾èµ–çš„é•œåƒã€‚æ‚¨å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦åœ¨ Dockerfile ä¸­æ·»åŠ æ›´å¤šä¾èµ–ã€‚ä»¥ä¸‹æ˜¯æ‰‹åŠ¨æ„å»ºé•œåƒçš„ Dockerfile åŠæ–¹æ³•ï¼Œå¦‚æœæ‚¨å†³å®šç›´æ¥ä½¿ç”¨ DockerHub ä¸Šæ„å»ºå®Œæ¯•çš„é•œåƒï¼Œåˆ™è·³è¿‡è¯¥æ­¥éª¤ã€‚</p><details class="custom-container details"><div class="language-docker ext-docker line-numbers-mode"><pre class="language-docker"><code><span class="token instruction"><span class="token keyword">FROM</span> centos:centos7</span>

<span class="token instruction"><span class="token keyword">LABEL</span> maintainer=<span class="token string">&quot;mrdrivingduck@gmail.com&quot;</span></span>

<span class="token instruction"><span class="token keyword">CMD</span> bash</span>

<span class="token comment"># avoid missing locale problem</span>
<span class="token instruction"><span class="token keyword">RUN</span> sed -i <span class="token string">&#39;s/override_install_langs/# &amp;/&#39;</span> /etc/yum.conf</span>

<span class="token comment"># add EPEL and scl source</span>
<span class="token instruction"><span class="token keyword">RUN</span> rpmkeys --import file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7 &amp;&amp; <span class="token operator">\</span>
    yum install -y epel-release centos-release-scl &amp;&amp; <span class="token operator">\</span>
    rpmkeys --import file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7 &amp;&amp; <span class="token operator">\</span>
    rpmkeys --import file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-SCLo &amp;&amp; <span class="token operator">\</span>
    yum update -y</span>

<span class="token comment"># GCC and LLVM</span>
<span class="token instruction"><span class="token keyword">RUN</span> yum install -y devtoolset-9-gcc devtoolset-9-gcc-c++ devtoolset-9-gdb <span class="token operator">\</span>
                   devtoolset-9-libstdc++-devel devtoolset-9-make &amp;&amp; <span class="token operator">\</span>
    yum install -y llvm-toolset-7.0-llvm-devel llvm-toolset-7.0-clang-devel <span class="token operator">\</span>
                   llvm-toolset-7.0-cmake</span>

<span class="token comment"># dependencies</span>
<span class="token instruction"><span class="token keyword">RUN</span> yum install -y libicu-devel pam-devel readline-devel libxml2-devel <span class="token operator">\</span>
                   libxslt-devel openldap-devel openldap-clients <span class="token operator">\</span>
                   openldap-servers libuuid-devel xerces-c-devel <span class="token operator">\</span>
                   bison flex gettext tcl-devel python-devel perl-IPC-Run <span class="token operator">\</span>
                   perl-Expect perl-Test-Simple perl-DBD-Pg perl-ExtUtils-Embed <span class="token operator">\</span>
                   perl-ExtUtils-MakeMaker zlib-devel krb5-devel <span class="token operator">\</span>
                   krb5-workstation krb5-server protobuf-devel</span>

<span class="token instruction"><span class="token keyword">RUN</span> ln /usr/lib64/perl5/CORE/libperl.so /usr/lib64/libperl.so</span>

<span class="token comment"># tools</span>
<span class="token instruction"><span class="token keyword">RUN</span> yum install -y git lcov psmisc sudo vim</span>

<span class="token comment"># set to empty if GitHub is not barriered</span>
<span class="token instruction"><span class="token keyword">ENV</span> GITHUB_PROXY=https://ghproxy.com/</span>

<span class="token instruction"><span class="token keyword">ENV</span> OPENSSL_VERSION=OpenSSL_1_1_1k</span>

<span class="token comment"># install dependencies from GitHub mirror</span>
<span class="token instruction"><span class="token keyword">RUN</span> yum install -y libaio-devel wget &amp;&amp; <span class="token operator">\</span>
    cd /usr/local &amp;&amp; <span class="token operator">\</span>
    <span class="token comment"># zlog for PFSD</span>
    wget --no-verbose --no-check-certificate <span class="token operator">\</span>
    <span class="token string">&quot;${GITHUB_PROXY}https://github.com/HardySimpson/zlog/archive/refs/tags/1.2.14.tar.gz&quot;</span> &amp;&amp; <span class="token operator">\</span>
    <span class="token comment"># PFSD</span>
    wget --no-verbose --no-check-certificate <span class="token operator">\</span>
    <span class="token string">&quot;${GITHUB_PROXY}https://github.com/ApsaraDB/PolarDB-FileSystem/archive/refs/tags/pfsd4pg-release-1.2.41-20211018.tar.gz&quot;</span> &amp;&amp; <span class="token operator">\</span>
    <span class="token comment"># OpenSSL 1.1.1</span>
    wget --no-verbose --no-check-certificate <span class="token operator">\</span>
    <span class="token string">&quot;${GITHUB_PROXY}https://github.com/openssl/openssl/archive/refs/tags/${OPENSSL_VERSION}.tar.gz&quot;</span> &amp;&amp; <span class="token operator">\</span>
    <span class="token comment"># enable build tools</span>
    echo <span class="token string">&quot;source /opt/rh/devtoolset-9/enable&quot;</span> &gt;&gt; /etc/bashrc &amp;&amp; <span class="token operator">\</span>
    echo <span class="token string">&quot;source /opt/rh/llvm-toolset-7.0/enable&quot;</span> &gt;&gt; /etc/bashrc &amp;&amp; <span class="token operator">\</span>
    source /etc/bashrc &amp;&amp; <span class="token operator">\</span>
    <span class="token comment"># unzip and install zlog</span>
    tar -zxf 1.2.14.tar.gz &amp;&amp; <span class="token operator">\</span>
    cd zlog-1.2.14 &amp;&amp; <span class="token operator">\</span>
    make &amp;&amp; make install &amp;&amp; <span class="token operator">\</span>
    cd .. &amp;&amp; <span class="token operator">\</span>
    rm 1.2.14.tar.gz &amp;&amp; <span class="token operator">\</span>
    rm -rf zlog-1.2.14 &amp;&amp; <span class="token operator">\</span>
    <span class="token comment"># unzip and install PFSD</span>
    tar -zxf pfsd4pg-release-1.2.41-20211018.tar.gz &amp;&amp; <span class="token operator">\</span>
    cd PolarDB-FileSystem-pfsd4pg-release-1.2.41-20211018 &amp;&amp; <span class="token operator">\</span>
    ./autobuild.sh &amp;&amp; ./install.sh &amp;&amp; <span class="token operator">\</span>
    cd .. &amp;&amp; <span class="token operator">\</span>
    rm pfsd4pg-release-1.2.41-20211018.tar.gz &amp;&amp; <span class="token operator">\</span>
    rm -rf PolarDB-FileSystem-pfsd4pg-release-1.2.41-20211018 &amp;&amp; <span class="token operator">\</span>
    <span class="token comment"># unzip and install OpenSSL 1.1.1</span>
    tar -zxf <span class="token variable">$OPENSSL_VERSION</span>.tar.gz &amp;&amp; <span class="token operator">\</span>
    cd /usr/local/openssl-<span class="token variable">$OPENSSL_VERSION</span> &amp;&amp; <span class="token operator">\</span>
    ./config --prefix=/usr/local/openssl &amp;&amp; make -j64 &amp;&amp; make install &amp;&amp; <span class="token operator">\</span>
    cp /usr/local/openssl/lib/libcrypto.so.1.1 /usr/lib64/ &amp;&amp; <span class="token operator">\</span>
    cp /usr/local/openssl/lib/libssl.so.1.1 /usr/lib64/ &amp;&amp; <span class="token operator">\</span>
    cp -r /usr/local/openssl/include/openssl /usr/include/ &amp;&amp; <span class="token operator">\</span>
    ln -sf /usr/lib64/libcrypto.so.1.1 /usr/lib64/libcrypto.so &amp;&amp; <span class="token operator">\</span>
    ln -sf /usr/lib64/libssl.so.1.1 /usr/lib64/libssl.so &amp;&amp; <span class="token operator">\</span>
    rm -f /usr/local/<span class="token variable">$OPENSSL_VERSION</span>.tar.gz &amp;&amp; <span class="token operator">\</span>
    rm -rf /usr/local/openssl-<span class="token variable">$OPENSSL_VERSION</span></span>

<span class="token comment"># create default user</span>
<span class="token instruction"><span class="token keyword">ENV</span> USER_NAME=postgres</span>
<span class="token instruction"><span class="token keyword">RUN</span> echo <span class="token string">&quot;create default user&quot;</span> &amp;&amp; <span class="token operator">\</span>
    groupadd -r <span class="token variable">$USER_NAME</span> &amp;&amp; useradd -g <span class="token variable">$USER_NAME</span> <span class="token variable">$USER_NAME</span> -p <span class="token string">&#39;&#39;</span> &amp;&amp; <span class="token operator">\</span>
    usermod -aG wheel <span class="token variable">$USER_NAME</span></span>

<span class="token instruction"><span class="token keyword">WORKDIR</span> /home/<span class="token variable">$USER_NAME</span></span>

<span class="token comment"># modify conf</span>
<span class="token instruction"><span class="token keyword">RUN</span> echo <span class="token string">&quot;modify conf&quot;</span> &amp;&amp; <span class="token operator">\</span>
    mkdir -p /run/pfs &amp;&amp; chown <span class="token variable">$USER_NAME</span> /run/pfs &amp;&amp; <span class="token operator">\</span>
    mkdir -p /var/log/pfs &amp;&amp; chown <span class="token variable">$USER_NAME</span> /var/log/pfs &amp;&amp; <span class="token operator">\</span>
    echo <span class="token string">&quot;ulimit -c unlimited&quot;</span> &gt;&gt; /home/postgres/.bashrc &amp;&amp; <span class="token operator">\</span>
    echo <span class="token string">&quot;export PATH=/home/postgres/tmp_basedir_polardb_pg_1100_bld/bin:\$PATH&quot;</span> &gt;&gt; /home/postgres/.bashrc &amp;&amp; <span class="token operator">\</span>
    echo <span class="token string">&quot;alias pg=&#39;psql -h /home/postgres/tmp_master_dir_polardb_pg_1100_bld/&#39;&quot;</span> &gt;&gt; /home/postgres/.bashrc &amp;&amp; <span class="token operator">\</span>
    rm /etc/localtime &amp;&amp; <span class="token operator">\</span>
    cp /usr/share/zoneinfo/UTC /etc/localtime &amp;&amp; <span class="token operator">\</span>
    sed -i <span class="token string">&#39;s/4096/unlimited/g&#39;</span> /etc/security/limits.d/20-nproc.conf &amp;&amp; <span class="token operator">\</span>
    sed -i <span class="token string">&#39;s/vim/vi/g&#39;</span> /root/.bashrc</span>

<span class="token instruction"><span class="token keyword">USER</span> <span class="token variable">$USER_NAME</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br></div></div></details><p>å°†ä¸Šè¿°å†…å®¹å¤åˆ¶åˆ°ä¸€ä¸ªæ–‡ä»¶å†…ï¼ˆå‡è®¾æ–‡ä»¶åä¸º <code>Dockerfile-PolarDB</code>ï¼‰åï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ„å»ºé•œåƒï¼š</p><div class="custom-container tip"><p class="custom-container-title">æç¤º</p><p>ğŸ’¡ è¯·åœ¨ä¸‹é¢çš„é«˜äº®è¡Œä¸­æŒ‰éœ€æ›¿æ¢ <code>&lt;image_name&gt;</code> å†…çš„ Docker é•œåƒåç§°</p></div><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">docker</span> build --network<span class="token operator">=</span>host <span class="token punctuation">\</span>
    -t <span class="token operator">&lt;</span>image_name<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
    -f Dockerfile-PolarDB <span class="token builtin class-name">.</span>
</code></pre><div class="highlight-lines"><br><div class="highlight-line">Â </div><br></div></div><h4 id="ä»£ç ä¸‹è½½" tabindex="-1"><a class="header-anchor" href="#ä»£ç ä¸‹è½½" aria-hidden="true">#</a> ä»£ç ä¸‹è½½</h4><p>PolarDB for PostgreSQL çš„ä»£ç æ‰˜ç®¡äº <a href="https://github.com/ApsaraDB/PolarDB-for-PostgreSQL" target="_blank" rel="noopener noreferrer">GitHub<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> ä¸Šï¼Œç¨³å®šåˆ†æ”¯ä¸º <code>POLARDB_11_STABLE</code>ã€‚</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">git</span> clone -b POLARDB_11_STABLE https://github.com/ApsaraDB/PolarDB-for-PostgreSQL.git
</code></pre></div><h4 id="å¯åŠ¨-docker-å®¹å™¨" tabindex="-1"><a class="header-anchor" href="#å¯åŠ¨-docker-å®¹å™¨" aria-hidden="true">#</a> å¯åŠ¨ Docker å®¹å™¨</h4><div class="custom-container tip"><p class="custom-container-title">æç¤º</p><p>ğŸ’¡ è¯·åœ¨ä¸‹é¢çš„é«˜äº®è¡Œä¸­æŒ‰éœ€æ›¿æ¢ <code>&lt;&gt;</code> çš„éƒ¨åˆ†ï¼š</p><ol><li>PolarDB for PostgreSQL çš„æºç è·¯å¾„</li><li>å°†è¦å¯åŠ¨çš„ Docker å®¹å™¨åç§°</li><li>è‡ªè¡Œæ„å»ºæˆ– DockerHub ä¸Šçš„ PolarDB å¼€å‘é•œåƒåç§°</li></ol></div><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">docker</span> run -it <span class="token punctuation">\</span>
    -v <span class="token operator">&lt;</span>src_to_polardb<span class="token operator">&gt;</span>:/home/postgres/PolarDB-for-PostgreSQL <span class="token punctuation">\</span>
    --cap-add<span class="token operator">=</span>SYS_PTRACE --privileged<span class="token operator">=</span>true <span class="token punctuation">\</span>
    --name <span class="token operator">&lt;</span>container_name<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
    <span class="token operator">&lt;</span>image_name<span class="token operator">&gt;</span> <span class="token function">bash</span>
</code></pre><div class="highlight-lines"><br><div class="highlight-line">Â </div><br><div class="highlight-line">Â </div><div class="highlight-line">Â </div></div></div><p>é•œåƒæ„å»ºè¿‡ç¨‹ä¸­å·²ç»åˆ›å»ºäº†ä¸€ä¸ª <code>postgres:postgres</code> ç”¨æˆ·ï¼Œä»è¯¥é•œåƒè¿è¡Œçš„å®¹å™¨å°†ç›´æ¥ä½¿ç”¨è¿™ä¸ªç”¨æˆ·ã€‚å®¹å™¨å¯åŠ¨åï¼Œåç»­ç›´æ¥è¿›å…¥æ­£åœ¨è¿è¡Œçš„å®¹å™¨ä¸­ï¼š</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">docker</span> <span class="token builtin class-name">exec</span> -it <span class="token punctuation">\</span>
    --env <span class="token assign-left variable"><span class="token environment constant">COLUMNS</span></span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span>tput cols<span class="token variable">`</span></span> <span class="token punctuation">\</span>
    --env <span class="token assign-left variable"><span class="token environment constant">LINES</span></span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span>tput lines<span class="token variable">`</span></span> <span class="token punctuation">\</span>
    <span class="token operator">&lt;</span>container_name<span class="token operator">&gt;</span> <span class="token function">bash</span>
</code></pre><div class="highlight-lines"><br><br><br><div class="highlight-line">Â </div></div></div><p>é€šè¿‡ bash è¿›å…¥å®¹å™¨åï¼Œè¿›å…¥æºç ç›®å½•ï¼Œä¸ºç”¨æˆ· <code>postgres</code> è·å–æºä»£ç ç›®å½•æƒé™ï¼Œç„¶åç¼–è¯‘å®ä¾‹ï¼š</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /home/postgres/PolarDB-for-PostgreSQL
<span class="token function">sudo</span> <span class="token function">chown</span> -R postgres:postgres ./
./polardb_build.sh
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>éƒ¨ç½²å®Œæˆåï¼Œè¿›è¡Œç®€å•çš„å®ä¾‹æ£€æŸ¥ï¼Œç¡®ä¿éƒ¨ç½²æ­£ç¡®ï¼š</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token environment constant">$HOME</span>/tmp_basedir_polardb_pg_1100_bld/bin/psql <span class="token punctuation">\</span>
    -p <span class="token number">5432</span> -h <span class="token number">127.0</span>.0.1 -c <span class="token string">&#39;select version();&#39;</span>
            version
--------------------------------
 PostgreSQL <span class="token number">11.9</span> <span class="token punctuation">(</span>POLARDB <span class="token number">11.9</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">1</span> row<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="åŸºäº-centos-7-ç³»ç»Ÿæˆ–å®¹å™¨" tabindex="-1"><a class="header-anchor" href="#åŸºäº-centos-7-ç³»ç»Ÿæˆ–å®¹å™¨" aria-hidden="true">#</a> åŸºäº CentOS 7 ç³»ç»Ÿæˆ–å®¹å™¨</h3><p>è¯¥æ–¹å¼å‡è®¾æ‚¨ä»ä¸€å°å…·æœ‰ root æƒé™çš„å¹²å‡€çš„ CentOS 7 æ“ä½œç³»ç»Ÿä¸Šä»é›¶å¼€å§‹ï¼Œå¯ä»¥æ˜¯ï¼š</p><ul><li>å®‰è£… CentOS 7 çš„ç‰©ç†æœº/è™šæ‹Ÿæœº</li><li>ä» CentOS 7 å®˜æ–¹ Docker é•œåƒ <code>centos:centos7</code> ä¸Šå¯åŠ¨çš„ Docker å®¹å™¨</li></ul><h4 id="å»ºç«‹é-root-ç”¨æˆ·" tabindex="-1"><a class="header-anchor" href="#å»ºç«‹é-root-ç”¨æˆ·" aria-hidden="true">#</a> å»ºç«‹é root ç”¨æˆ·</h4><p>PolarDB for PostgreSQL éœ€è¦ä»¥é root ç”¨æˆ·è¿è¡Œã€‚ä»¥ä¸‹æ­¥éª¤èƒ½å¤Ÿå¸®åŠ©æ‚¨åˆ›å»ºä¸€ä¸ªåä¸º <code>postgres</code> çš„ç”¨æˆ·ç»„å’Œä¸€ä¸ªåä¸º <code>postgres</code> çš„ç”¨æˆ·ã€‚</p><div class="custom-container tip"><p class="custom-container-title">æç¤º</p><p>å¦‚æœæ‚¨å·²ç»æœ‰äº†ä¸€ä¸ªé root ç”¨æˆ·ï¼Œä½†åç§°ä¸æ˜¯ <code>postgres:postgres</code>ï¼Œå¯ä»¥å¿½ç•¥è¯¥æ­¥éª¤ï¼›ä½†è¯·æ³¨æ„åœ¨åç»­ç¤ºä¾‹æ­¥éª¤ä¸­å°†å‘½ä»¤ä¸­ç”¨æˆ·ç›¸å…³çš„ä¿¡æ¯æ›¿æ¢ä¸ºæ‚¨è‡ªå·±çš„ç”¨æˆ·ç»„åä¸ç”¨æˆ·åã€‚</p></div><p>ä¸‹é¢çš„å‘½ä»¤èƒ½å¤Ÿåˆ›å»ºç”¨æˆ·ç»„ <code>postgres</code> å’Œç”¨æˆ· <code>postgres</code>ï¼Œå¹¶ä¸ºè¯¥ç”¨æˆ·èµ‹äºˆ sudo å’Œå·¥ä½œç›®å½•çš„æƒé™ã€‚éœ€è¦ä»¥ root ç”¨æˆ·æ‰§è¡Œè¿™äº›å‘½ä»¤ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># install sudo</span>
yum <span class="token function">install</span> -y <span class="token function">sudo</span>

<span class="token comment"># create user and group</span>
<span class="token function">groupadd</span> -r postgres
<span class="token function">useradd</span> -m -g postgres postgres -p <span class="token string">&#39;&#39;</span>
<span class="token function">usermod</span> -aG wheel postgres

<span class="token comment"># make postgres as sudoer</span>
<span class="token function">chmod</span> u+w /etc/sudoers
<span class="token builtin class-name">echo</span> <span class="token string">&#39;postgres ALL=(ALL) NOPASSWD: ALL&#39;</span> <span class="token operator">&gt;&gt;</span> /etc/sudoers
<span class="token function">chmod</span> u-w /etc/sudoers

<span class="token comment"># grant access to home directory</span>
<span class="token function">chown</span> -R postgres:postgres /home/postgres/
<span class="token builtin class-name">echo</span> <span class="token string">&#39;source /etc/bashrc&#39;</span> <span class="token operator">&gt;&gt;</span> /home/postgres/.bashrc
<span class="token comment"># for su postgres</span>
<span class="token function">sed</span> -i <span class="token string">&#39;s/4096/unlimited/g&#39;</span> /etc/security/limits.d/20-nproc.conf
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>æ¥ä¸‹æ¥ï¼Œåˆ‡æ¢åˆ° <code>postgres</code> ç”¨æˆ·ï¼Œå°±å¯ä»¥è¿›è¡Œåç»­çš„æ­¥éª¤äº†ï¼š</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">su</span> postgres
<span class="token builtin class-name">source</span> /etc/bashrc
<span class="token builtin class-name">cd</span> ~
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="ä¸‹è½½-polardb-æºä»£ç " tabindex="-1"><a class="header-anchor" href="#ä¸‹è½½-polardb-æºä»£ç " aria-hidden="true">#</a> ä¸‹è½½ PolarDB æºä»£ç </h4><p>PolarDB for PostgreSQL çš„ä»£ç æ‰˜ç®¡äº <a href="https://github.com/ApsaraDB/PolarDB-for-PostgreSQL" target="_blank" rel="noopener noreferrer">GitHub<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> ä¸Šï¼Œç¨³å®šåˆ†æ”¯ä¸º <code>POLARDB_11_STABLE</code>ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> yum <span class="token function">install</span> -y <span class="token function">git</span>
<span class="token function">git</span> clone -b POLARDB_11_STABLE https://github.com/ApsaraDB/PolarDB-for-PostgreSQL.git
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="ä¾èµ–å®‰è£…" tabindex="-1"><a class="header-anchor" href="#ä¾èµ–å®‰è£…" aria-hidden="true">#</a> ä¾èµ–å®‰è£…</h4><p>ä½¿ç”¨ <code>sudo</code> æ‰§è¡Œæºä»£ç æ ¹ç›®å½•ä¸‹çš„ä¾èµ–å®‰è£…è„šæœ¬ <code>install_dependencies.sh</code> å®Œæˆæ‰€æœ‰çš„ä¾èµ–å®‰è£…ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> PolarDB-for-PostgreSQL
<span class="token function">sudo</span> ./install_dependencies.sh
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="ç¼–è¯‘éƒ¨ç½²" tabindex="-1"><a class="header-anchor" href="#ç¼–è¯‘éƒ¨ç½²" aria-hidden="true">#</a> ç¼–è¯‘éƒ¨ç½²</h4><p>ä¾èµ–å®‰è£…å®Œæ¯•åï¼Œåˆ·æ–°ç”¨æˆ·é…ç½®ï¼Œå¼€å§‹ç¼–è¯‘éƒ¨ç½²ï¼š</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">source</span> /etc/bashrc
./polardb_build.sh
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>éƒ¨ç½²å®Œæˆåï¼Œè¿›è¡Œç®€å•çš„å®ä¾‹æ£€æŸ¥ï¼š</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token environment constant">$HOME</span>/tmp_basedir_polardb_pg_1100_bld/bin/psql <span class="token punctuation">\</span>
    -p <span class="token number">5432</span> -h <span class="token number">127.0</span>.0.1 -c <span class="token string">&#39;select version();&#39;</span>
            version
--------------------------------
 PostgreSQL <span class="token number">11.9</span> <span class="token punctuation">(</span>POLARDB <span class="token number">11.9</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">1</span> row<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="ç¼–è¯‘å®ä¾‹ç±»å‹" tabindex="-1"><a class="header-anchor" href="#ç¼–è¯‘å®ä¾‹ç±»å‹" aria-hidden="true">#</a> ç¼–è¯‘å®ä¾‹ç±»å‹</h2><h3 id="æœ¬åœ°å•èŠ‚ç‚¹å®ä¾‹" tabindex="-1"><a class="header-anchor" href="#æœ¬åœ°å•èŠ‚ç‚¹å®ä¾‹" aria-hidden="true">#</a> æœ¬åœ°å•èŠ‚ç‚¹å®ä¾‹</h3><ul><li>1 ä¸ªä¸»èŠ‚ç‚¹ï¼ˆè¿è¡Œäº <code>5432</code> ç«¯å£ï¼‰</li></ul><div class="language-bash ext-sh"><pre class="language-bash"><code>./polardb_build.sh
</code></pre></div><h3 id="æœ¬åœ°å¤šèŠ‚ç‚¹å®ä¾‹" tabindex="-1"><a class="header-anchor" href="#æœ¬åœ°å¤šèŠ‚ç‚¹å®ä¾‹" aria-hidden="true">#</a> æœ¬åœ°å¤šèŠ‚ç‚¹å®ä¾‹</h3><ul><li>1 ä¸ªä¸»èŠ‚ç‚¹ï¼ˆè¿è¡Œäº <code>5432</code> ç«¯å£ï¼‰</li><li>1 ä¸ªåªè¯»èŠ‚ç‚¹ï¼ˆè¿è¡Œäº <code>5433</code> ç«¯å£ï¼‰</li></ul><div class="language-bash ext-sh"><pre class="language-bash"><code>./polardb_build.sh --withrep --repnum<span class="token operator">=</span><span class="token number">1</span>
</code></pre></div><h3 id="æœ¬åœ°å¤šèŠ‚ç‚¹å¸¦å¤‡åº“å®ä¾‹" tabindex="-1"><a class="header-anchor" href="#æœ¬åœ°å¤šèŠ‚ç‚¹å¸¦å¤‡åº“å®ä¾‹" aria-hidden="true">#</a> æœ¬åœ°å¤šèŠ‚ç‚¹å¸¦å¤‡åº“å®ä¾‹</h3><ul><li>1 ä¸ªä¸»èŠ‚ç‚¹ï¼ˆè¿è¡Œäº <code>5432</code> ç«¯å£ï¼‰</li><li>1 ä¸ªåªè¯»èŠ‚ç‚¹ï¼ˆè¿è¡Œäº <code>5433</code> ç«¯å£ï¼‰</li><li>1 ä¸ªå¤‡åº“èŠ‚ç‚¹ï¼ˆè¿è¡Œäº <code>5434</code> ç«¯å£ï¼‰</li></ul><div class="language-bash ext-sh"><pre class="language-bash"><code>./polardb_build.sh --withrep --repnum<span class="token operator">=</span><span class="token number">1</span> --withstandby
</code></pre></div><h3 id="æœ¬åœ°å¤šèŠ‚ç‚¹-htap-å®ä¾‹" tabindex="-1"><a class="header-anchor" href="#æœ¬åœ°å¤šèŠ‚ç‚¹-htap-å®ä¾‹" aria-hidden="true">#</a> æœ¬åœ°å¤šèŠ‚ç‚¹ HTAP å®ä¾‹</h3><ul><li>1 ä¸ªä¸»èŠ‚ç‚¹ï¼ˆè¿è¡Œäº <code>5432</code> ç«¯å£ï¼‰</li><li>2 ä¸ªåªè¯»èŠ‚ç‚¹ï¼ˆè¿è¡Œäº <code>5433</code> / <code>5434</code> ç«¯å£ï¼‰</li></ul><div class="language-bash ext-sh"><pre class="language-bash"><code>./polardb_build.sh --initpx
</code></pre></div><h2 id="å®ä¾‹å›å½’æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#å®ä¾‹å›å½’æµ‹è¯•" aria-hidden="true">#</a> å®ä¾‹å›å½’æµ‹è¯•</h2><p>æ™®é€šå®ä¾‹å›å½’æµ‹è¯•ï¼š</p><div class="language-bash ext-sh"><pre class="language-bash"><code>./polardb_build.sh -r -e -r-external -r-contrib -r-pl --withrep --with-tde
</code></pre></div><p>HTAP å®ä¾‹å›å½’æµ‹è¯•ï¼š</p><div class="language-bash ext-sh"><pre class="language-bash"><code>./polardb_build.sh -r-px -e -r-external -r-contrib -r-pl --with-tde
</code></pre></div><p>åˆ†å¸ƒå¼å®ä¾‹å›å½’æµ‹è¯•ï¼š</p><div class="language-bash ext-sh"><pre class="language-bash"><code>./polardb_build.sh -r -e -r-external -r-contrib -r-pl --with-tde --with-dma
</code></pre></div><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/ApsaraDB/PolarDB-for-PostgreSQL/edit/main/zh/guide/deploy-on-local-storage.md" rel="noopener noreferrer" target="_blank" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ"><!--[--><!--]--> åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">ä¸Šæ¬¡æ›´æ–°: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">è´¡çŒ®è€…: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 562655624@qq.com">æ£ ç¾½</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: zunbao.fengzb@alibaba-inc.com">zunbao.fengzb</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: zunbao.fengzb@alibaba-inc.com">åŒ—ä¾ </span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/PolarDB-for-PostgreSQL/zh/guide/deploy-on-cloud.html" class="" aria-label="å®ä¾‹éƒ¨ç½²ï¼šåŸºäºé˜¿é‡Œå·´å·´äº‘æœåŠ¡"><!--[--><!--]--> å®ä¾‹éƒ¨ç½²ï¼šåŸºäºé˜¿é‡Œå·´å·´äº‘æœåŠ¡ <!--[--><!--]--></a></span><span class="next"><a href="/PolarDB-for-PostgreSQL/zh/guide/deploy-on-nbd-shared-storage.html" class="" aria-label="å®ä¾‹éƒ¨ç½²ï¼šåŸºäº NBD å…±äº«å­˜å‚¨"><!--[--><!--]--> å®ä¾‹éƒ¨ç½²ï¼šåŸºäº NBD å…±äº«å­˜å‚¨ <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/PolarDB-for-PostgreSQL/assets/app.9be17b95.js" defer></script>
  </body>
</html>
